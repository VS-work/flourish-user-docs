<!doctype html>
<html lang="en" class="no-js">
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="generator" content="Hugo 0.54.0" />

<META NAME="ROBOTS" CONTENT="NOINDEX, NOFOLLOW">

<link rel="alternate" type="application/rss&#43;xml" href="https://vs-work.github.io/flourish-user-docs/docs/pos/payment/purchase-limits/index.xml">


<link rel="shortcut icon" href="/favicons/favicon.ico" >
<link rel="apple-touch-icon" href="/flourish-user-docs/favicons/apple-touch-icon-180x180.png" sizes="180x180">
<link rel="icon" type="image/png" href="/flourish-user-docs/favicons/favicon-16x16.png" sizes="16x16">
<link rel="icon" type="image/png" href="/flourish-user-docs/favicons/favicon-32x32.png" sizes="32x32">
<link rel="icon" type="image/png" href="/flourish-user-docs/favicons/android-36x36.png" sizes="36x36">
<link rel="icon" type="image/png" href="/flourish-user-docs/favicons/android-48x48.png" sizes="48x48">
<link rel="icon" type="image/png" href="/flourish-user-docs/favicons/android-72x72.png" sizes="72x72">
<link rel="icon" type="image/png" href="/flourish-user-docs/favicons/android-96x96.png" sizes="96x96">
<link rel="icon" type="image/png" href="/flourish-user-docs/favicons/android-144x144.png" sizes="144x144">
<link rel="icon" type="image/png" href="/flourish-user-docs/favicons/android-192x192.png" sizes="192x192">

<title>Purchase Limits Validation | Flourish Docs</title><meta property="og:title" content="Purchase Limits Validation" />
<meta property="og:description" content="A Flourish Documentation example site" />
<meta property="og:type" content="website" />
<meta property="og:url" content="https://vs-work.github.io/flourish-user-docs/docs/pos/payment/purchase-limits/" />

<meta property="og:updated_time" content="2019-11-25T17:14:11&#43;02:00"/><meta property="og:site_name" content="Flourish Docs" />

<meta itemprop="name" content="Purchase Limits Validation">
<meta itemprop="description" content="A Flourish Documentation example site">

<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Purchase Limits Validation"/>
<meta name="twitter:description" content="A Flourish Documentation example site"/>





<link rel="preload" href="/flourish-user-docs/scss/main.min.9aeffc9e83359f1f6c567fea8e2076603d4e37a6b64417981024b11fe9769455.css" as="style">
<link href="/flourish-user-docs/scss/main.min.9aeffc9e83359f1f6c567fea8e2076603d4e37a6b64417981024b11fe9769455.css" rel="stylesheet" integrity="">


<script
  src="https://code.jquery.com/jquery-3.3.1.min.js"
  integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8="
  crossorigin="anonymous"></script>


    <title>Purchase Limits Validation | Flourish Docs</title>
  </head>
  <body class="td-section">
    <header>
      
<nav class="js-navbar-scroll navbar navbar-expand navbar-dark flex-column flex-md-row td-navbar">
        <a class="navbar-brand" href="/flourish-user-docs/">
		<span class="navbar-logo"><svg id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 500 500" style="enable-background:new 0 0 500 500"><g><path style="fill:#fff" d="M116.8525 421.9722c-5.7041.0-10.3442-4.3127-10.3442-9.6129V88.183c0-5.3002 4.6401-9.6117 10.3442-9.6117H320.858c3.0347.0 9.3959.5498 11.7506 2.6302l.3545.3442 58.905 63.2912c2.3101 2.491 2.9202 8.4928 2.9202 11.3184v256.2039c0 5.3002-4.6407 9.6129-10.3436 9.6129H116.8525z"/><g><g><g><path style="fill:#767676" d="M384.4445 423.2066H116.852c-6.3839.0-11.5786-4.8658-11.5786-10.8474V88.1831c0-5.9804 5.1947-10.8461 11.5786-10.8461h204.0062c.377.0 9.2786.0329 12.568 2.9389l.3947.3833 58.9508 63.337c3.2135 3.4652 3.2514 11.7924 3.2514 12.1593v256.2036C396.0231 418.3408 390.8284 423.2066 384.4445 423.2066zM116.5079 411.9189c.0848.0278.1999.0531.3441.0531h267.5925c.1442.0.2581-.0253.3441-.0531V156.1556c-.0076-.9033-.3593-3.7347-.7034-5.0037l-57.6527-61.9416c-1.4651-.3176-4.4533-.6389-5.5742-.6389H116.852c-.143.0-.2594.024-.3441.0531V411.9189zm267.4533-261.149v0 0zM327.0321 89.371v.0013V89.371z"/></g></g></g><g><g><path style="fill:#5b7fc0" d="M189.0874 210.1754l.0012-.0012c7.7751.0012 15.0295 4.1862 18.932 10.9234 1.9177 3.3159 2.9305 7.1011 2.9293 10.9378.0 5.8394-2.2733 11.3304-6.4032 15.4604-4.1288 4.1288-9.6186 6.4032-15.458 6.4032-5.8394.0-11.328-2.2733-15.458-6.4032s-6.4032-9.6186-6.4056-15.4628c.0012-6.025 2.454-11.4897 6.4116-15.4473C177.5953 212.627 183.0601 210.1742 189.0874 210.1754zM197.0804 232.033c.0012-1.4042-.3687-2.7868-1.063-3.9887-1.4293-2.4684-4.0833-3.9995-6.9299-4.0019-4.4077.0024-7.993 3.5877-7.993 7.993.0 2.1356.832 4.1431 2.3427 5.6539 1.5083 1.5083 3.5159 2.3403 5.6503 2.3415 2.1356.0 4.1443-.8308 5.6539-2.3403S197.0816 234.1722 197.0804 232.033z"/><path style="opacity:.3;fill:#fff" d="M189.0898 210.176c7.7763.0 15.0283 4.1826 18.926 10.9151 1.9201 3.3136 2.9377 7.0988 2.9353 10.9462.0024 12.0643-9.8065 21.8636-21.8613 21.8613-12.0547.0024-21.8636-9.8066-21.8612-21.8613.0-6.0285 2.4516-11.4921 6.4116-15.452C177.5977 212.6276 183.0612 210.176 189.0898 210.176zM197.0839 232.0372c0-1.4078-.3711-2.7892-1.0702-3.9959-1.4269-2.466-4.0797-3.9983-6.924-3.9983-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0024 4.4077 3.5865 7.9918 7.9942 7.9942 2.2027.0 4.2018-.8978 5.6479-2.3439C196.1861 236.239 197.0839 234.2399 197.0839 232.0372z"/><g><defs><path id="SVGID_1_" d="M194.7376 237.6875c-1.4461 1.4461-3.4452 2.3439-5.6479 2.3439-4.4077-.0024-7.9918-3.5865-7.9942-7.9942.0024-4.4125 3.5937-7.999 7.9942-7.9942 2.8443.0 5.497 1.5323 6.924 3.9983.6991 1.2067 1.0702 2.5881 1.0702 3.9959C197.0839 234.2399 196.1861 236.239 194.7376 237.6875z"/></defs><clipPath id="SVGID_2_"><use xlink:href="#SVGID_1_" style="overflow:visible"/></clipPath><path style="clip-path:url(#SVGID_2_);fill:#fff" d="M190.0704 225.0237c-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0011 1.9546.7088 3.7452 1.8782 5.1354-1.7447-1.4674-2.8575-3.663-2.8588-6.116.0024-4.4125 3.5936-7.999 7.9942-7.9942 2.3802-1e-4 4.616 1.0833 6.1218 2.8788C193.7885 225.7247 191.9774 225.0237 190.0704 225.0237z"/><path style="opacity:.13;clip-path:url(#SVGID_2_);fill:#020202" d="M190.0704 225.0237c-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0011 1.9546.7088 3.7452 1.8782 5.1354-1.7447-1.4674-2.8575-3.663-2.8588-6.116.0024-4.4125 3.5936-7.999 7.9942-7.9942 2.3802-1e-4 4.616 1.0833 6.1218 2.8788C193.7885 225.7247 191.9774 225.0237 190.0704 225.0237z"/></g><g><defs><path id="SVGID_3_" d="M189.0898 210.176c7.7763.0 15.0283 4.1826 18.926 10.9151 1.9201 3.3136 2.9377 7.0988 2.9353 10.9462.0024 12.0643-9.8065 21.8636-21.8613 21.8613-12.0547.0024-21.8636-9.8066-21.8612-21.8613.0-6.0285 2.4516-11.4921 6.4116-15.452C177.5977 212.6276 183.0612 210.176 189.0898 210.176zM197.0839 232.0372c0-1.4078-.3711-2.7892-1.0702-3.9959-1.4269-2.466-4.0797-3.9983-6.924-3.9983-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0024 4.4077 3.5865 7.9918 7.9942 7.9942 2.2027.0 4.2018-.8978 5.6479-2.3439C196.1861 236.239 197.0839 234.2399 197.0839 232.0372z"/></defs><clipPath id="SVGID_4_"><use xlink:href="#SVGID_3_" style="overflow:visible"/></clipPath><path style="clip-path:url(#SVGID_4_);fill:#5b7fc0" d="M172.6595 215.6045c-3.96 3.96-6.4116 9.4235-6.4116 15.452-.0024 12.0547 9.8066 21.8636 21.8613 21.8612 12.0547.0024 21.8636-9.797 21.8613-21.8612.0024-3.8475-1.0151-7.6326-2.9353-10.9462-3.8977-6.7324-11.1497-10.9151-18.926-10.9151C182.0806 209.1953 176.6171 211.647 172.6595 215.6045z"/></g></g><path style="fill:#5b7fc0" d="M198.8952 225.1043h122.6266v13.8671H198.8952z"/></g><g><path style="fill:#d95140" d="M189.0874 155.7611l.0012-.0012c7.7751.0012 15.0295 4.1862 18.932 10.9234 1.9177 3.3159 2.9305 7.1011 2.9293 10.9378.0 5.8394-2.2733 11.3304-6.4032 15.4604-4.1288 4.1288-9.6186 6.4032-15.458 6.4032-5.8394.0-11.328-2.2733-15.458-6.4032s-6.4032-9.6186-6.4056-15.4628c.0012-6.0249 2.454-11.4897 6.4116-15.4473C177.5953 158.2128 183.0601 155.7599 189.0874 155.7611zM197.0804 177.6188c.0012-1.4042-.3687-2.7868-1.063-3.9887-1.4293-2.4684-4.0833-3.9995-6.9299-4.0019-4.4077.0024-7.993 3.5877-7.993 7.993.0 2.1356.832 4.1431 2.3427 5.6539 1.5083 1.5083 3.5159 2.3403 5.6503 2.3415 2.1356.0 4.1443-.8308 5.6539-2.3403C196.2508 181.7667 197.0816 179.758 197.0804 177.6188z"/><path style="opacity:.3;fill:#fff" d="M189.0898 155.7617c7.7763.0 15.0283 4.1826 18.926 10.9151 1.9201 3.3135 2.9377 7.0987 2.9353 10.9462.0024 12.0643-9.8065 21.8636-21.8613 21.8613-12.0547.0024-21.8636-9.8066-21.8612-21.8613.0-6.0285 2.4516-11.4921 6.4116-15.452C177.5977 158.2134 183.0612 155.7617 189.0898 155.7617zM197.0839 177.623c0-1.4078-.3711-2.7892-1.0702-3.9959-1.4269-2.466-4.0797-3.9983-6.924-3.9983-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0024 4.4077 3.5865 7.9918 7.9942 7.9942 2.2027.0 4.2018-.8978 5.6479-2.3439C196.1861 181.8248 197.0839 179.8256 197.0839 177.623z"/><g><defs><path id="SVGID_5_" d="M194.7376 183.2733c-1.4461 1.4461-3.4452 2.3439-5.6479 2.3439-4.4077-.0024-7.9918-3.5865-7.9942-7.9942.0024-4.4125 3.5937-7.9989 7.9942-7.9942 2.8443.0 5.497 1.5323 6.924 3.9983.6991 1.2067 1.0702 2.5881 1.0702 3.9959C197.0839 179.8256 196.1861 181.8248 194.7376 183.2733z"/></defs><clipPath id="SVGID_6_"><use xlink:href="#SVGID_5_" style="overflow:visible"/></clipPath><path style="clip-path:url(#SVGID_6_);fill:#fff" d="M190.0704 170.6095c-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0011 1.9546.7088 3.7452 1.8782 5.1354-1.7447-1.4674-2.8575-3.663-2.8588-6.116.0024-4.4125 3.5936-7.999 7.9942-7.9942 2.3802-1e-4 4.616 1.0833 6.1218 2.8788C193.7885 171.3104 191.9774 170.6095 190.0704 170.6095z"/><path style="opacity:.13;clip-path:url(#SVGID_6_);fill:#020202" d="M190.0704 170.6095c-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0011 1.9546.7088 3.7452 1.8782 5.1354-1.7447-1.4674-2.8575-3.663-2.8588-6.116.0024-4.4125 3.5936-7.999 7.9942-7.9942 2.3802-1e-4 4.616 1.0833 6.1218 2.8788C193.7885 171.3104 191.9774 170.6095 190.0704 170.6095z"/></g><g><defs><path id="SVGID_7_" d="M189.0898 155.7617c7.7763.0 15.0283 4.1826 18.926 10.9151 1.9201 3.3135 2.9377 7.0987 2.9353 10.9462.0024 12.0643-9.8065 21.8636-21.8613 21.8613-12.0547.0024-21.8636-9.8066-21.8612-21.8613.0-6.0285 2.4516-11.4921 6.4116-15.452C177.5977 158.2134 183.0612 155.7617 189.0898 155.7617zM197.0839 177.623c0-1.4078-.3711-2.7892-1.0702-3.9959-1.4269-2.466-4.0797-3.9983-6.924-3.9983-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0024 4.4077 3.5865 7.9918 7.9942 7.9942 2.2027.0 4.2018-.8978 5.6479-2.3439C196.1861 181.8248 197.0839 179.8256 197.0839 177.623z"/></defs><clipPath id="SVGID_8_"><use xlink:href="#SVGID_7_" style="overflow:visible"/></clipPath><path style="clip-path:url(#SVGID_8_);fill:#d95140" d="M172.6595 161.1903c-3.96 3.96-6.4116 9.4235-6.4116 15.452-.0024 12.0547 9.8066 21.8636 21.8613 21.8613 12.0547.0024 21.8636-9.797 21.8613-21.8613.0024-3.8474-1.0151-7.6326-2.9353-10.9462-3.8977-6.7324-11.1497-10.9151-18.926-10.9151C182.0806 154.7811 176.6171 157.2327 172.6595 161.1903z"/></g><path style="fill:#d95140" d="M198.8952 170.69h122.6266v13.8671H198.8952z"/></g><g><g><path style="fill:#56a55c" d="M189.5379 264.6147l.0012-.0012c7.7751.0012 15.0294 4.1862 18.932 10.9235 1.9177 3.3159 2.9305 7.1011 2.9293 10.9378.0 5.8394-2.2733 11.3304-6.4032 15.4604-4.1288 4.1288-9.6186 6.4032-15.458 6.4032-5.8394.0-11.3281-2.2733-15.458-6.4032-4.13-4.13-6.4032-9.6186-6.4056-15.4628.0012-6.0249 2.454-11.4897 6.4116-15.4472C178.0458 267.0663 183.5105 264.6135 189.5379 264.6147zM197.5309 286.4723c.0012-1.4042-.3687-2.7868-1.063-3.9887-1.4293-2.4684-4.0833-3.9995-6.9299-4.0019-4.4077.0024-7.993 3.5877-7.993 7.993.0 2.1356.832 4.1431 2.3427 5.6538 1.5083 1.5083 3.5159 2.3403 5.6503 2.3415 2.1356.0 4.1443-.8308 5.6539-2.3403C196.7013 290.6202 197.5321 288.6115 197.5309 286.4723z"/><path style="opacity:.3;fill:#fff" d="M189.5403 264.6153c7.7763.0 15.0283 4.1826 18.926 10.9151 1.9201 3.3135 2.9377 7.0987 2.9353 10.9462.0024 12.0643-9.8065 21.8636-21.8613 21.8613-12.0547.0024-21.8636-9.8065-21.8612-21.8613.0-6.0285 2.4516-11.492 6.4116-15.452C178.0482 267.0669 183.5117 264.6153 189.5403 264.6153zM197.5344 286.4765c0-1.4078-.3711-2.7892-1.0702-3.9959-1.4269-2.466-4.0797-3.9983-6.924-3.9983-4.4005-.0048-7.9918 3.5817-7.9942 7.9941.0024 4.4077 3.5865 7.9918 7.9942 7.9942 2.2027.0 4.2018-.8978 5.6479-2.3439C196.6366 290.6783 197.5344 288.6792 197.5344 286.4765z"/><g><defs><path id="SVGID_9_" d="M195.1881 292.1268c-1.4461 1.4461-3.4452 2.3439-5.6479 2.3439-4.4077-.0024-7.9918-3.5865-7.9942-7.9942.0024-4.4125 3.5937-7.9989 7.9942-7.9941 2.8443.0 5.497 1.5323 6.924 3.9983.6991 1.2067 1.0702 2.5881 1.0702 3.9959C197.5344 288.6792 196.6366 290.6783 195.1881 292.1268z"/></defs><clipPath id="SVGID_10_"><use xlink:href="#SVGID_9_" style="overflow:visible"/></clipPath><path style="clip-path:url(#SVGID_10_);fill:#fff" d="M190.5209 279.463c-4.4005-.0048-7.9918 3.5817-7.9942 7.9941.0011 1.9547.7088 3.7452 1.8782 5.1354-1.7446-1.4674-2.8575-3.6631-2.8588-6.1161.0024-4.4125 3.5936-7.999 7.9942-7.9941 2.3802-1e-4 4.616 1.0833 6.1218 2.8788C194.239 280.164 192.4279 279.463 190.5209 279.463z"/><path style="opacity:.13;clip-path:url(#SVGID_10_);fill:#020202" d="M190.5209 279.463c-4.4005-.0048-7.9918 3.5817-7.9942 7.9941.0011 1.9547.7088 3.7452 1.8782 5.1354-1.7446-1.4674-2.8575-3.6631-2.8588-6.1161.0024-4.4125 3.5936-7.999 7.9942-7.9941 2.3802-1e-4 4.616 1.0833 6.1218 2.8788C194.239 280.164 192.4279 279.463 190.5209 279.463z"/></g><g><defs><path id="SVGID_11_" d="M189.5403 264.6153c7.7763.0 15.0283 4.1826 18.926 10.9151 1.9201 3.3135 2.9377 7.0987 2.9353 10.9462.0024 12.0643-9.8065 21.8636-21.8613 21.8613-12.0547.0024-21.8636-9.8065-21.8612-21.8613.0-6.0285 2.4516-11.492 6.4116-15.452C178.0482 267.0669 183.5117 264.6153 189.5403 264.6153zM197.5344 286.4765c0-1.4078-.3711-2.7892-1.0702-3.9959-1.4269-2.466-4.0797-3.9983-6.924-3.9983-4.4005-.0048-7.9918 3.5817-7.9942 7.9941.0024 4.4077 3.5865 7.9918 7.9942 7.9942 2.2027.0 4.2018-.8978 5.6479-2.3439C196.6366 290.6783 197.5344 288.6792 197.5344 286.4765z"/></defs><clipPath id="SVGID_12_"><use xlink:href="#SVGID_11_" style="overflow:visible"/></clipPath><path style="clip-path:url(#SVGID_12_);fill:#56a55c" d="M173.11 270.0439c-3.96 3.96-6.4116 9.4235-6.4116 15.452-.0024 12.0547 9.8066 21.8636 21.8613 21.8613 12.0547.0024 21.8636-9.797 21.8613-21.8613.0024-3.8474-1.0151-7.6326-2.9353-10.9462-3.8977-6.7325-11.1497-10.9151-18.926-10.9151C182.5311 263.6346 177.0676 266.0863 173.11 270.0439z"/></g></g><path style="fill:#56a55c" d="M199.3456 279.5436h122.6266v13.8671H199.3456z"/></g><g><g><path style="fill:#f1bc42" d="M189.0874 318.7208l.0012-.0012c7.7751.0012 15.0295 4.1862 18.932 10.9234 1.9177 3.3159 2.9305 7.1011 2.9293 10.9378.0 5.8394-2.2733 11.3305-6.4032 15.4604-4.1288 4.1288-9.6186 6.4032-15.458 6.4032-5.8394.0-11.328-2.2733-15.458-6.4032-4.13-4.1299-6.4032-9.6186-6.4056-15.4628.0012-6.025 2.454-11.4897 6.4116-15.4472C177.5953 321.1724 183.0601 318.7196 189.0874 318.7208zM197.0804 340.5784c.0012-1.4042-.3687-2.7868-1.063-3.9887-1.4293-2.4684-4.0833-3.9995-6.9299-4.0019-4.4077.0024-7.993 3.5877-7.993 7.993.0 2.1356.832 4.1431 2.3427 5.6539 1.5083 1.5083 3.5159 2.3403 5.6503 2.3415 2.1356.0 4.1443-.8308 5.6539-2.3403S197.0816 342.7176 197.0804 340.5784z"/><path style="opacity:.3;fill:#fff" d="M189.0898 318.7214c7.7763.0 15.0283 4.1826 18.926 10.915 1.9201 3.3136 2.9377 7.0988 2.9353 10.9462.0024 12.0643-9.8065 21.8636-21.8613 21.8612-12.0547.0024-21.8636-9.8065-21.8612-21.8612.0-6.0285 2.4516-11.4921 6.4116-15.452C177.5977 321.173 183.0612 318.7214 189.0898 318.7214zM197.0839 340.5826c0-1.4078-.3711-2.7892-1.0702-3.9959-1.4269-2.466-4.0797-3.9983-6.924-3.9983-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0024 4.4077 3.5865 7.9918 7.9942 7.9942 2.2027.0 4.2018-.8978 5.6479-2.3439C196.1861 344.7844 197.0839 342.7853 197.0839 340.5826z"/><g><defs><path id="SVGID_13_" d="M194.7376 346.2329c-1.4461 1.4461-3.4452 2.3439-5.6479 2.3439-4.4077-.0024-7.9918-3.5865-7.9942-7.9942.0024-4.4125 3.5937-7.999 7.9942-7.9942 2.8443.0 5.497 1.5323 6.924 3.9983.6991 1.2067 1.0702 2.5881 1.0702 3.9959C197.0839 342.7853 196.1861 344.7844 194.7376 346.2329z"/></defs><clipPath id="SVGID_14_"><use xlink:href="#SVGID_13_" style="overflow:visible"/></clipPath><path style="clip-path:url(#SVGID_14_);fill:#fff" d="M190.0704 333.5691c-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0011 1.9547.7088 3.7452 1.8782 5.1354-1.7447-1.4674-2.8575-3.6631-2.8588-6.1161.0024-4.4125 3.5936-7.999 7.9942-7.9942 2.3802-1e-4 4.616 1.0834 6.1218 2.8788C193.7885 334.2701 191.9774 333.5691 190.0704 333.5691z"/><path style="opacity:.13;clip-path:url(#SVGID_14_);fill:#020202" d="M190.0704 333.5691c-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0011 1.9547.7088 3.7452 1.8782 5.1354-1.7447-1.4674-2.8575-3.6631-2.8588-6.1161.0024-4.4125 3.5936-7.999 7.9942-7.9942 2.3802-1e-4 4.616 1.0834 6.1218 2.8788C193.7885 334.2701 191.9774 333.5691 190.0704 333.5691z"/></g><g><defs><path id="SVGID_15_" d="M189.0898 318.7214c7.7763.0 15.0283 4.1826 18.926 10.915 1.9201 3.3136 2.9377 7.0988 2.9353 10.9462.0024 12.0643-9.8065 21.8636-21.8613 21.8612-12.0547.0024-21.8636-9.8065-21.8612-21.8612.0-6.0285 2.4516-11.4921 6.4116-15.452C177.5977 321.173 183.0612 318.7214 189.0898 318.7214zM197.0839 340.5826c0-1.4078-.3711-2.7892-1.0702-3.9959-1.4269-2.466-4.0797-3.9983-6.924-3.9983-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0024 4.4077 3.5865 7.9918 7.9942 7.9942 2.2027.0 4.2018-.8978 5.6479-2.3439C196.1861 344.7844 197.0839 342.7853 197.0839 340.5826z"/></defs><clipPath id="SVGID_16_"><use xlink:href="#SVGID_15_" style="overflow:visible"/></clipPath><path style="clip-path:url(#SVGID_16_);fill:#f1bc42" d="M172.6595 324.15c-3.96 3.96-6.4116 9.4235-6.4116 15.452-.0024 12.0547 9.8066 21.8636 21.8613 21.8612 12.0547.0024 21.8636-9.797 21.8613-21.8612.0024-3.8474-1.0151-7.6327-2.9353-10.9462-3.8977-6.7324-11.1497-10.9151-18.926-10.9151C182.0806 317.7407 176.6171 320.1924 172.6595 324.15z"/></g></g><path style="fill:#f1bc42" d="M198.8952 333.6497h122.6266v13.8671H198.8952z"/></g></g></svg></span><span class="text-uppercase font-weight-bold">Flourish Docs</span>
	</a>
	<div class="td-navbar-nav-scroll ml-md-auto" id="main_navbar">
		<ul class="navbar-nav mt-2 mt-lg-0">
			
			
			<li class="nav-item mr-4 mb-2 mb-lg-0">
				
				
				
				
				
				
				<a class="nav-link" href="/flourish-user-docs/about/" ><span>About</span></a>
			</li>
			
			<li class="nav-item mr-4 mb-2 mb-lg-0">
				
				
				
				
				
				
				<a class="nav-link active" href="/flourish-user-docs/docs/" ><span class="active">Documentation</span></a>
			</li>
			
			<li class="nav-item mr-4 mb-2 mb-lg-0">
				
				
				
				
				
				
				<a class="nav-link" href="/flourish-user-docs/docs/flourish-api/" ><span>Flourish API</span></a>
			</li>
			
			<li class="nav-item mr-4 mb-2 mb-lg-0">
				
				
				
				
				
				
				<a class="nav-link" href="/flourish-user-docs/blog/" ><span>Blog</span></a>
			</li>
			
			<li class="nav-item mr-4 mb-2 mb-lg-0">
				
				
				
				
				
				
				<a class="nav-link" href="/flourish-user-docs/community/" ><span>Community</span></a>
			</li>
			
			
			
			<li class="nav-item dropdown d-none d-lg-block">
				

<a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
	English
</a>
<div class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
	
	<a class="dropdown-item" href="/flourish-user-docs/no/">Norsk</a>
	
</div>
			</li>
			
		</ul>
	</div>
	<div class="navbar-nav d-none d-lg-block">
<input type="search" class="form-control td-search-input" placeholder="&#xf002 Search this site…" aria-label="Search this site…" autocomplete="off">
</div>
</nav>

    </header>
    <div class="container-fluid td-outer">
      <div class="td-main">
        <div class="row flex-xl-nowrap">
          <div class="col-12 col-md-3 col-xl-2 td-sidebar d-print-none">
            




<div id="td-sidebar-menu" class="td-sidebar__inner">
  
  <form class="td-sidebar__search d-flex align-items-center">
    
<input type="search" class="form-control td-search-input" placeholder="&#xf002 Search this site…" aria-label="Search this site…" autocomplete="off">

    <button class="btn btn-link td-sidebar__toggle d-md-none p-0 ml-3 fas fa-bars" type="button" data-toggle="collapse" data-target="#td-section-nav" aria-controls="td-docs-nav" aria-expanded="false" aria-label="Toggle section navigation">
    </button>
  </form>
  
  <nav class="collapse td-sidebar-nav pt-2 pl-4" id="td-section-nav">
    
    <div class="nav-item dropdown d-block d-lg-none">
      

<a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
	English
</a>
<div class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
	
	<a class="dropdown-item" href="/flourish-user-docs/no/">Norsk</a>
	
</div>
    </div>
    
    






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/flourish-user-docs/docs/" class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section">Documentation</a>
  </li>
  <ul>
    <li class="collapse show" id="flourish-user-docs-docs">
      
      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/flourish-user-docs/docs/customer-validation/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Validation Rules</a>
  </li>
  <ul>
    <li class="collapse " id="flourish-user-docs-docs-customer-validation">
      
      
      
    </li>
  </ul>
</ul>

      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/flourish-user-docs/docs/database/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Database Overview</a>
  </li>
  <ul>
    <li class="collapse " id="flourish-user-docs-docs-database">
      
      
      
    </li>
  </ul>
</ul>

      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/flourish-user-docs/docs/flourish-api/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Flourish API</a>
  </li>
  <ul>
    <li class="collapse " id="flourish-user-docs-docs-flourish-api">
      
      
      
    </li>
  </ul>
</ul>

      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/flourish-user-docs/docs/pos/" class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section">POS</a>
  </li>
  <ul>
    <li class="collapse show" id="flourish-user-docs-docs-pos">
      
      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/flourish-user-docs/docs/pos/payment/" class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section">Payments</a>
  </li>
  <ul>
    <li class="collapse show" id="flourish-user-docs-docs-pos-payment">
      
      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/flourish-user-docs/docs/pos/payment/payment-methods/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Payments</a>
  </li>
  <ul>
    <li class="collapse " id="flourish-user-docs-docs-pos-payment-payment-methods">
      
      
      
    </li>
  </ul>
</ul>

      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/flourish-user-docs/docs/pos/payment/purchase-limits/" class="align-left pl-0 pr-2 active td-sidebar-link td-sidebar-link__section">Purchase Limits Validation</a>
  </li>
  <ul>
    <li class="collapse show" id="flourish-user-docs-docs-pos-payment-purchase-limits">
      
      
      
    </li>
  </ul>
</ul>

      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/flourish-user-docs/docs/pos/payment/refunds/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Returns &amp; Refunds</a>
  </li>
  <ul>
    <li class="collapse " id="flourish-user-docs-docs-pos-payment-refunds">
      
      
      
    </li>
  </ul>
</ul>

      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/flourish-user-docs/docs/pos/payment/voids/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Void Transactions</a>
  </li>
  <ul>
    <li class="collapse " id="flourish-user-docs-docs-pos-payment-voids">
      
      
      
    </li>
  </ul>
</ul>

      
      
    </li>
  </ul>
</ul>

      
      
    </li>
  </ul>
</ul>

      
      
    </li>
  </ul>
</ul>

  </nav>
</div>




          </div>
          <div class="d-none d-xl-block col-xl-2 td-toc d-print-none">
            




<div class="td-page-meta ml-2 pb-1 pt-2 mb-0">





<a href="https://github.com/VS-work/flourish-user-docs/edit/master/content/en/docs/POS/Payment/Purchase%20Limits/_index.md" target="_blank"><i class="fa fa-edit fa-fw"></i> Edit this page</a>
<a href="https://github.com/VS-work/flourish-user-docs/issues/new?title=Purchase%20Limits%20Validation" target="_blank"><i class="fab fa-github fa-fw"></i> Create documentation issue</a>


<a href="https://github.com/VS-work/flourish-user-docs/issues/new" target="_blank"><i class="fas fa-tasks fa-fw"></i> Create project issue</a>

</div>






<nav id="TableOfContents">
<ul>
<li><a href="#purchase-limits">Purchase Limits</a>
<ul>
<li><a href="#glossary">Glossary</a></li>
<li><a href="#validation-process-overview">Validation Process Overview</a></li>
<li><a href="#api-reference">API Reference</a>
<ul>
<li><a href="#facility-level-limits-validation">Facility-level limits validation</a></li>
<li><a href="#order-level-limits-validation">Order-level limits validation</a></li>
</ul></li>
<li><a href="#database-reference">Database reference</a>
<ul>
<li><a href="#limits-tables">Limits Tables</a></li>
<li><a href="#tables-properties-relations">Tables Properties &amp; Relations</a></li>
</ul></li>
</ul></li>
</ul>
</nav>



          </div>
          <main class="col-12 col-md-9 col-xl-8 pl-md-5" role="main">
            <nav aria-label="breadcrumb" class="d-none d-md-block d-print-none">
	<ol class="breadcrumb spb-1">
		













<li class="breadcrumb-item" >
	<a href="https://vs-work.github.io/flourish-user-docs/docs/">Documentation</a>
</li>




<li class="breadcrumb-item" >
	<a href="https://vs-work.github.io/flourish-user-docs/docs/pos/">POS</a>
</li>




<li class="breadcrumb-item" >
	<a href="https://vs-work.github.io/flourish-user-docs/docs/pos/payment/">Payments</a>
</li>




<li class="breadcrumb-item active" aria-current="page">
	<a href="https://vs-work.github.io/flourish-user-docs/docs/pos/payment/purchase-limits/">Purchase Limits Validation</a>
</li>

	</ol>
</nav	>

            
<div class="td-content">
	<h1>Purchase Limits Validation</h1>
	
	

<h1 id="purchase-limits">Purchase Limits</h1>

<p>This guide will walk through Flourish cannabis purchase limits validation process. Recreational &amp; Medical states all have something in common – they sell weed and each have limits too, restrictions on how much customers can buy on any given day or at any given time, to make sure Flourish legally selling them the amount mandated by law.</p>

<h2 id="glossary">Glossary</h2>

<p><strong>Purchase Limit</strong> are the limits that are established by law for the purchase of goods with the content of cannabis.</p>

<h2 id="validation-process-overview">Validation Process Overview</h2>

<p>There are limits of 2 types, Medical and Recreational. Depending on the status of the custom, such a limit will be applied.</p>

<p>Facility has limits that are set by state law, so when customer makes a purchase and before he sends it for payment, purchase has to be <em>validated,</em> or otherwise all buttons are going to be hidden.</p>

<p>When customer adds the product to the basket, the &ldquo;Validate&rdquo; button appears. Selecting &ldquo;Validate&rdquo; button sends and API call to compare the amount of cannabis that customer have already bought in the last 24 hours and planning to buy in current purchase.</p>

<p>If customer exceeded the limits, then he or she will see an error message, stating that there are too many substances than are allowed.</p>

<p>![]()</p>

<p>If everything is ok, success message and the remaining buttons for working with the order appear.</p>

<p>![]()</p>

<p>Note: For Nevada, validation is a little different right now (November, 2019). During validation, the product that was purchased by the customer in the last 24 hours is not added to the quantity of goods in the basket, that is, validation occurs only within the order.</p>

<p>Limits are set for a certain category of goods. The list of categories can be found below:</p>

<p><style type="text/css">
.tg  {border-collapse:collapse;border-spacing:0;border-color:#aabcfe;margin:0px auto;}
.tg td{font-family:Arial, sans-serif;font-size:14px;padding:10px 5px;border-style:solid;border-width:0px;overflow:hidden;word-break:normal;border-top-width:1px;border-bottom-width:1px;border-color:#aabcfe;color:#669;background-color:#e8edff;}
.tg th{font-family:Arial, sans-serif;font-size:14px;font-weight:normal;padding:10px 5px;border-style:solid;border-width:0px;overflow:hidden;word-break:normal;border-top-width:1px;border-bottom-width:1px;border-color:#aabcfe;color:#039;background-color:#b9c9fe;}
.tg .tg-lboi{border-color:inherit;text-align:left;vertical-align:middle}
.tg .tg-0pky{border-color:inherit;text-align:left;vertical-align:top}
.tg-sort-header::-moz-selection{background:0 0}.tg-sort-header::selection{background:0 0}.tg-sort-header{cursor:pointer}.tg-sort-header:after{content:&ldquo;;float:right;margin-top:7px;border-width:0 5px 5px;border-style:solid;border-color:#404040 transparent;visibility:hidden}.tg-sort-header:hover:after{visibility:visible}.tg-sort-asc:after,.tg-sort-asc:hover:after,.tg-sort-desc:after{visibility:visible;opacity:.4}.tg-sort-desc:after{border-bottom:none;border-width:5px 5px 0}@media screen and (max-width: 767px) {.tg {width: auto !important;}.tg col {width: auto !important;}.tg-wrap {overflow-x: auto;-webkit-overflow-scrolling: touch;margin: auto 0px;}}</style>
<div class="tg-wrap"><table id="tg-wmmqw" class="tg">
  <tr>
    <th class="tg-lboi">Labeling<br>Lighting<br>ll123<br>Marijuana Flowers/Buds<br>Non-Solvent Based Concentrate<br>Non-Solvent Based Concentrate (Each)<br>Nutrients<br>Oral Oil<br>Packaging<br>Packaging Components<br>Packaging Container<br>Packaging Label<br>Pots and Trays<br>Pre-rolled cigs/joints<br>Pre-Rolls</th>
    <th class="tg-lboi">Propagation<br>R&amp;D Testing / Homogeneity Testing (Count-base<br>R&amp;D Testing / Homogeneity Testing (Weight-bas<br>Raw Materials<br>Refrigerated<br>Seeds<br>Seeds (bulk)<br>Seeds (each)<br>Seeds (weight)<br>Shake/Trim<br>Shake/Trim (by strain)<br>Shake/Trim Approved for Extraction<br>Small/Popcorn Buds<br>Soft Gel<br>Solvent Based Concentrate<br>Solvent Based Concentrate (Each)</th>
    <th class="tg-0pky">Supplies<br>Suppository<br>Suppository (each)<br>Terpenes<br>Tinctures<br>Tinctures (each)<br>Topicals<br>Topicals (each)<br>Transdermal Patch<br>Transdermal Patch (each)<br>Vape Cartridge<br>Vaporizer<br>Waste<br>Wet Whole Plant Approved for Extraction<br>Whole Harvested Plant<br>Whole Wet Plant</th>
  </tr>
</table></div>
<script charset="utf-8">var TGSort=window.TGSort||function(n){&ldquo;use strict&rdquo;;function r(n){return n.length}function t(n,t){if(n)for(var e=0,a=r(n);a&gt;e;++e)t(n[e],e)}function e(n){return n.split(&ldquo;&rdquo;).reverse().join(&ldquo;&rdquo;)}function a(n){var e=n[0];return t(n,function(n){for(;!n.startsWith(e);)e=e.substring(0,r(e)-1)}),r(e)}function o(n,r){return-1!=n.map&reg;.indexOf(!0)}function u(n,r){return function(t){var e=&ldquo;&rdquo;;return t.replace(n,function(n,t,a){return e=t.replace(r,&ldquo;&rdquo;)+&ldquo;.&rdquo;+(a||&ldquo;&rdquo;).substring(1)}),l(e)}}function i(n){var t=l(n);return!isNaN(t)&amp;&amp;r(&ldquo;&rdquo;+t)+1&gt;=r(n)?t:NaN}function s(n){var e=[];return t([i,m,g],function(t){var a;r(e)||o(a=n.map(t),isNaN)||(e=a)}),e}function c(n){var t=s(n);if(!r(t)){var o=a(n),u=a(n.map(e)),i=n.map(function(n){return n.substring(o,r(n)-u)});t=s(i)}return t}function f(n){var r=n.map(Date.parse);return o(r,isNaN)?[]:r}function v(n,r){r(n),t(n.childNodes,function(n){v(n,r)})}function d(n){var r,t=[],e=[];return v(n,function(n){var a=n.nodeName;&ldquo;TR&rdquo;==a?(r=[],t.push&reg;,e.push(n)):(&ldquo;TD&rdquo;==a||&ldquo;TH&rdquo;==a)&amp;&amp;r.push(n)}),[t,e]}function p(n){if(&ldquo;TABLE&rdquo;==n.nodeName){for(var e=d(n),a=e[0],o=e[1],u=r(a),i=u&gt;1&amp;&amp;r(a[0])<r(a[1])?1:0,s=i+1,v=a[i],p=r(v),l=[],m=[],g=[],h=s;u>h;++h){for(var N=0;p&gt;N;++N){r(m)<p&&m.push([]);var T=a[h][N],C=T.textContent||T.innerText||"";m[N].push(C.trim())}g.push(h-s)}var L="tg-sort-asc",E="tg-sort-desc",b=function(){for(var n=0;p>n;++n){var r=v[n].classList;r.remove(L),r.remove(E),l[n]=0}};t(v,function(n,t){l[t]=0;var e=n.classList;e.add(&ldquo;tg-sort-header&rdquo;),n.addEventListener(&ldquo;click&rdquo;,function(){function n(n,r){var t=d[n],e=d[r];return t&gt;e?a:e&gt;t?-a:a*(n-r)}var a=l[t];b(),a=1==a?-1:+!a,a&amp;&amp;e.add(a&gt;0?L:E),l[t]=a;var i=m[t],v=function(n,r){return a<em>i[n].localeCompare(i[r])||a</em>(n-r)},d=c(i);(r(d)||r(d=f(i)))&amp;&amp;(v=n);var p=g.slice();p.sort(v);for(var h=null,N=s;u&gt;N;++N)h=o[N].parentNode,h.removeChild(o[N]);for(var N=s;u&gt;N;++N)h.appendChild(o[s+p[N-s]])})})}}var l=parseFloat,m=u(/^(?:\s<em>)([+-]?(?:\d+)(?:,\d{3})</em>)(.\d<em>)?$/g,/,/g),g=u(/^(?:\s</em>)([+-]?(?:\d+)(?:.\d{3})<em>)(,\d</em>)?$/g,/./g);n.addEventListener(&ldquo;DOMContentLoaded&rdquo;,function(){for(var t=n.getElementsByClassName(&ldquo;tg&rdquo;),e=0;e<r(t);++e)try{p(t[e])}catch(a){}})}(document);</script></p>

<p><strong>Note:</strong> If the purchase does not contain cannabis goods, then there is no validation.</p>

<h2 id="api-reference">API Reference</h2>

<h3 id="facility-level-limits-validation">Facility-level limits validation</h3>

<p>HandlerName: <code>GetPurchaseLimitsByFacility</code></p>

<p>URL: <code>/v1/api/retail/purchaselimits/facilities/{facility}</code></p>

<p>RequestType: <strong>GET</strong></p>

<p>Response body should returns the following:</p>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-json" data-lang="json"><span style="color:#000;font-weight:bold">[</span>
    <span style="color:#000;font-weight:bold">{</span>
        <span style="color:#a40000">integration_purchase_limit_id:</span> <span style="color:#a40000">1,</span>
        <span style="color:#a40000">name:</span> <span style="color:#204a87;font-weight:bold">&#34;Concentrate&#34;</span><span style="color:#000;font-weight:bold">,</span>
        <span style="color:#a40000">med_limit:</span> <span style="color:#a40000">10,</span>
        <span style="color:#a40000">rec_limit:</span> <span style="color:#a40000">20,</span>
        <span style="color:#a40000">uom_id:</span> <span style="color:#a40000">1</span>
    <span style="color:#000;font-weight:bold">},</span>
    <span style="color:#000;font-weight:bold">{</span>
        <span style="color:#a40000">integration_purchase_limit_id:</span> <span style="color:#a40000">2,</span>
        <span style="color:#a40000">name:</span> <span style="color:#204a87;font-weight:bold">&#34;Flower&#34;</span><span style="color:#000;font-weight:bold">,</span>
        <span style="color:#a40000">med_limit:</span> <span style="color:#a40000">24,</span>
        <span style="color:#a40000">rec_limit:</span> <span style="color:#a40000">24,</span>
        <span style="color:#a40000">uom_id:</span> <span style="color:#a40000">2</span>
    <span style="color:#000;font-weight:bold">}</span>
<span style="color:#000;font-weight:bold">]</span></code></pre></div>
<p>SQL to get Facility-level limits information:</p>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sql" data-lang="sql"><span style="color:#204a87;font-weight:bold">select</span>
    <span style="color:#000">integration_purchase_limit_id</span><span style="color:#000;font-weight:bold">,</span>
    <span style="color:#000">name</span><span style="color:#000;font-weight:bold">,</span>
    <span style="color:#000">med_limit</span><span style="color:#000;font-weight:bold">,</span>
    <span style="color:#000">rec_limit</span><span style="color:#000;font-weight:bold">,</span>
    <span style="color:#000">uom_id</span>
<span style="color:#204a87;font-weight:bold">from</span>
    <span style="color:#000">common</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">integration_purchase_limit</span> <span style="color:#000">ipl</span>
    <span style="color:#204a87;font-weight:bold">join</span> <span style="color:#000">facility_integration</span> <span style="color:#000">fi</span> <span style="color:#204a87;font-weight:bold">on</span> <span style="color:#000">fi</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">integration_id</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">ipl</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">integration_id</span>
<span style="color:#204a87;font-weight:bold">where</span>
    <span style="color:#000">fi</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">facility_id</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#4e9a06">&#39;&lt;FAC_ID&gt;&#39;</span><span style="color:#000;font-weight:bold">;</span></code></pre></div>
<h3 id="order-level-limits-validation">Order-level limits validation</h3>

<p>HandlerName: <code>GetPurchaseLimitsByOrder</code></p>

<p>URL: <code>/v1/api/retail/purchaselimits/orders/{order}</code></p>

<p>RequestType: <strong>GET</strong></p>

<p>Response body should return the following:</p>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-json" data-lang="json"><span style="color:#000;font-weight:bold">[</span>
    <span style="color:#000;font-weight:bold">{</span>
        <span style="color:#a40000">integration_purchase_limit_id:</span> <span style="color:#a40000">1,</span>
        <span style="color:#a40000">name:</span> <span style="color:#204a87;font-weight:bold">&#34;Concentrate&#34;</span><span style="color:#000;font-weight:bold">,</span>
        <span style="color:#a40000">qty:</span> <span style="color:#a40000">12,</span>
        <span style="color:#a40000">uom_id:</span> <span style="color:#a40000">1</span>
    <span style="color:#000;font-weight:bold">},</span>
    <span style="color:#000;font-weight:bold">{</span>
        <span style="color:#a40000">integration_purchase_limit_id:</span> <span style="color:#a40000">2,</span>
        <span style="color:#a40000">name:</span> <span style="color:#204a87;font-weight:bold">&#34;Flower&#34;</span><span style="color:#000;font-weight:bold">,</span>
        <span style="color:#a40000">qty:</span> <span style="color:#a40000">10,</span>
        <span style="color:#a40000">uom_id:</span> <span style="color:#a40000">2</span>
    <span style="color:#000;font-weight:bold">}</span>
<span style="color:#000;font-weight:bold">]</span></code></pre></div>
<p>SQL to return Order-level limits information:</p>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sql" data-lang="sql"><span style="color:#204a87;font-weight:bold">select</span>
    <span style="color:#000">ipl</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">integration_purchase_limit_id</span><span style="color:#000;font-weight:bold">,</span>
    <span style="color:#000">ipl</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">name</span><span style="color:#000;font-weight:bold">,</span>
    <span style="color:#204a87;font-weight:bold">sum</span><span style="color:#000;font-weight:bold">(</span>
        <span style="color:#204a87;font-weight:bold">CASE</span>
        <span style="color:#204a87;font-weight:bold">WHEN</span> <span style="color:#000">ipl</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">uom_type</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#4e9a06">&#39;weight&#39;</span> <span style="color:#204a87;font-weight:bold">AND</span> <span style="color:#000">i</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">standard_qty_uom_id</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#0000cf;font-weight:bold">1</span> <span style="color:#204a87;font-weight:bold">THEN</span> <span style="color:#000">ol</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">qty</span> <span style="color:#ce5c00;font-weight:bold">*</span> <span style="color:#000">i</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">unit_weight</span> <span style="color:#ce5c00;font-weight:bold">*</span> <span style="color:#000">uw</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">conversion_factor</span>
        <span style="color:#204a87;font-weight:bold">WHEN</span> <span style="color:#000">ipl</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">uom_type</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#4e9a06">&#39;volume&#39;</span> <span style="color:#204a87;font-weight:bold">AND</span> <span style="color:#000">i</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">standard_qty_uom_id</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#0000cf;font-weight:bold">1</span> <span style="color:#204a87;font-weight:bold">THEN</span> <span style="color:#000">ol</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">qty</span> <span style="color:#ce5c00;font-weight:bold">*</span> <span style="color:#000">i</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">unit_volume</span> <span style="color:#ce5c00;font-weight:bold">*</span> <span style="color:#000">uv</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">conversion_factor</span>
        <span style="color:#204a87;font-weight:bold">ELSE</span> <span style="color:#000">ol</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">qty</span> <span style="color:#ce5c00;font-weight:bold">*</span> <span style="color:#000">usq</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">conversion_factor</span>
        <span style="color:#204a87;font-weight:bold">END</span>
    <span style="color:#000;font-weight:bold">)</span> <span style="color:#000">qty</span>
<span style="color:#204a87;font-weight:bold">from</span>
    <span style="color:#000">order_hdr</span> <span style="color:#000">oh</span>
    <span style="color:#204a87;font-weight:bold">join</span> <span style="color:#000">order_line</span> <span style="color:#000">ol</span> <span style="color:#204a87;font-weight:bold">on</span> <span style="color:#000">oh</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">order_id</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">ol</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">order_id</span>
    <span style="color:#204a87;font-weight:bold">join</span> <span style="color:#000">item</span> <span style="color:#000">i</span> <span style="color:#204a87;font-weight:bold">on</span> <span style="color:#000">ol</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">item_id</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">i</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">item_id</span>
    <span style="color:#204a87;font-weight:bold">join</span> <span style="color:#000">uom</span> <span style="color:#000">usq</span> <span style="color:#204a87;font-weight:bold">on</span> <span style="color:#000">i</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">standard_qty_uom_id</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">u</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">uom_id</span>
    <span style="color:#204a87;font-weight:bold">left</span> <span style="color:#204a87;font-weight:bold">outer</span> <span style="color:#204a87;font-weight:bold">join</span> <span style="color:#000">uom</span> <span style="color:#000">uw</span> <span style="color:#204a87;font-weight:bold">on</span> <span style="color:#000">i</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">weight_uom_id</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">uw</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">uom_id</span>
    <span style="color:#204a87;font-weight:bold">left</span> <span style="color:#204a87;font-weight:bold">outer</span> <span style="color:#204a87;font-weight:bold">join</span> <span style="color:#000">uom</span> <span style="color:#000">uv</span> <span style="color:#204a87;font-weight:bold">on</span> <span style="color:#000">i</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">volume_uom_id</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">uw</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">uom_id</span>
    <span style="color:#204a87;font-weight:bold">join</span> <span style="color:#000">item_category_integration</span> <span style="color:#000">ici</span> <span style="color:#204a87;font-weight:bold">on</span> <span style="color:#000">i</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">item_category_id</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">ici</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">item_category_id</span>
    <span style="color:#204a87;font-weight:bold">join</span> <span style="color:#000">common</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">integration_item_category</span> <span style="color:#000">iic</span> <span style="color:#204a87;font-weight:bold">on</span> <span style="color:#000">ici</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">integration_item_category_id</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">iic</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">integration_item_catgory_id</span>
    <span style="color:#204a87;font-weight:bold">join</span> <span style="color:#000">common</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">integration_purchase_limit</span> <span style="color:#000">ipl</span> <span style="color:#204a87;font-weight:bold">on</span> <span style="color:#000">iic</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">integration_purchase_limit_id</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">ipl</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">integration_purchase_limit_id</span>
<span style="color:#204a87;font-weight:bold">where</span>
    <span style="color:#000">oh</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">order_id</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#ce5c00;font-weight:bold">?</span>
<span style="color:#204a87;font-weight:bold">group</span> <span style="color:#204a87;font-weight:bold">by</span>
    <span style="color:#000">oh</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">customer_id</span><span style="color:#000;font-weight:bold">,</span>
    <span style="color:#000">ipl</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">integration_purchase_limit_id</span><span style="color:#000;font-weight:bold">;</span></code></pre></div>
<h2 id="database-reference">Database reference</h2>

<p>Puchase Limits database entries are store inside the <strong>Common</strong> database. To get more information on database structure and relations, please, follow to the [General Database Information]() guide.</p>

<h3 id="limits-tables">Limits Tables</h3>

<ul>
<li>common.integration</li>
<li>common.integration_purchase_limit</li>
<li>common.integration_item_category</li>
<li>company.item_category</li>
<li>company.item_category_integration</li>
</ul>

<h3 id="tables-properties-relations">Tables Properties &amp; Relations</h3>

<p><strong>common.integration</strong></p>

<ul>
<li><code>integration_id</code></li>
<li><code>name</code> — e.g. Metrc California</li>
<li><code>area_type</code> — e.g. State</li>
<li><code>area</code> — e.g. CA</li>
<li><code>integrator_id</code></li>
<li><code>active</code> — boolean: 1 or 0</li>
</ul>

<p><strong>common.integration_purchase_limit</strong></p>

<ul>
<li><code>integration_purchase_limit_id</code></li>
<li><code>integration_id</code> &ndash;&gt; <code>common.integration.integration_id</code></li>
<li><code>name</code> — Flower, Concentrates, Edibles,  common cannabis class</li>
<li><code>med_limit</code>  — limit for medical usage</li>
<li><code>rec_limit</code>  — limit for recreational usage</li>
<li><code>uom_type</code> — e.g. weight</li>
<li><code>limit_type</code> — e.g thc or cbd</li>
</ul>

<p><strong>common.integration_item_category</strong></p>

<ul>
<li><code>integration_item_category_id</code></li>
<li><code>integration_id</code> &ndash;&gt; common.integration.<em>integration_id</em></li>
<li><code>integration_purchase_limit_id</code> &ndash;&gt; common.integration_purchase_limit.<em>integration_purchase_limit_id</em></li>
<li><code>description</code> — e.g. Buds</li>
<li><code>external_id</code> — e.g. Buds/Concentrate/Capsule — more specified name for <code>name</code> column from <code>common.integration_purchase_limit</code></li>
<li><code>active</code> — boolean: 1 or 0</li>
<li><code>last_sync</code> — date -</li>
<li><code>compliance_info</code> — stores json</li>
</ul>

<p><strong>compliance_info JSON example:</strong></p>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-json" data-lang="json"><span style="color:#000;font-weight:bold">{</span>
<span style="color:#204a87;font-weight:bold">&#34;QuantityType&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;WeightBased&#34;</span><span style="color:#000;font-weight:bold">,</span>
<span style="color:#204a87;font-weight:bold">&#34;RequiresStrain&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#204a87;font-weight:bold">false</span><span style="color:#000;font-weight:bold">,</span>
<span style="color:#204a87;font-weight:bold">&#34;CanBeRemediated&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#204a87;font-weight:bold">true</span><span style="color:#000;font-weight:bold">,</span>
<span style="color:#204a87;font-weight:bold">&#34;CanContainSeeds&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#204a87;font-weight:bold">true</span><span style="color:#000;font-weight:bold">,</span>
<span style="color:#204a87;font-weight:bold">&#34;RequiresItemBrand&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#204a87;font-weight:bold">false</span><span style="color:#000;font-weight:bold">,</span>
<span style="color:#204a87;font-weight:bold">&#34;RequiresUnitVolume&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#204a87;font-weight:bold">false</span><span style="color:#000;font-weight:bold">,</span>
<span style="color:#204a87;font-weight:bold">&#34;RequiresUnitWeight&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#204a87;font-weight:bold">false</span><span style="color:#000;font-weight:bold">,</span>
<span style="color:#204a87;font-weight:bold">&#34;ProductCategoryType&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;Buds&#34;</span><span style="color:#000;font-weight:bold">,</span>
<span style="color:#204a87;font-weight:bold">&#34;RequiresIngredients&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#204a87;font-weight:bold">false</span><span style="color:#000;font-weight:bold">,</span>
<span style="color:#204a87;font-weight:bold">&#34;RequiresServingSize&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#204a87;font-weight:bold">false</span><span style="color:#000;font-weight:bold">,</span>
<span style="color:#204a87;font-weight:bold">&#34;RequiresProductPhoto&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#204a87;font-weight:bold">false</span><span style="color:#000;font-weight:bold">,</span>
<span style="color:#204a87;font-weight:bold">&#34;RequiresUnitCbdContent&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#204a87;font-weight:bold">false</span><span style="color:#000;font-weight:bold">,</span>
<span style="color:#204a87;font-weight:bold">&#34;RequiresUnitCbdPercent&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#204a87;font-weight:bold">false</span><span style="color:#000;font-weight:bold">,</span>
<span style="color:#204a87;font-weight:bold">&#34;RequiresUnitThcContent&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#204a87;font-weight:bold">false</span><span style="color:#000;font-weight:bold">,</span>
<span style="color:#204a87;font-weight:bold">&#34;RequiresUnitThcPercent&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#204a87;font-weight:bold">false</span><span style="color:#000;font-weight:bold">,</span>
<span style="color:#204a87;font-weight:bold">&#34;RequiresSupplyDurationDays&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#204a87;font-weight:bold">false</span><span style="color:#000;font-weight:bold">,</span>
<span style="color:#204a87;font-weight:bold">&#34;RequiresAdministrationMethod&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#204a87;font-weight:bold">false</span>
<span style="color:#000;font-weight:bold">}</span></code></pre></div>
<p><strong>company.item_category</strong></p>

<ul>
<li><code>item_category_id</code></li>
<li><code>item_class_id</code></li>
<li><code>description</code> — same as <code>external_id</code> from <code>common.integration_item_category</code> e.g. &ldquo;Topicals (each)&rdquo;</li>
<li><code>type_key</code> — one word e.g. topicalseach</li>
<li><code>active</code> — boolean: 1 or 0</li>
<li><code>uom_type</code> — e.g weight or count</li>
<li><code>metrc_description</code> — same info as in <code>description</code></li>
<li><code>is_active</code> — same as <code>active</code>, boolean: 1 or 0</li>
</ul>

<p><strong>company.item_category_integration</strong></p>

<p>The table consists entirely of relations to other tables</p>

<ul>
<li><code>item_category_integration_id</code></li>
<li><code>item_category_id</code> &ndash;&gt; from <code>item_category</code></li>
<li><code>integration_id</code> &ndash;&gt; from <code>common.integration</code></li>
<li><code>integration_item_category_id</code> &ndash;&gt; from <code>common.integration_item_category</code></li>
<li><code>active</code> — boolean: 1 or 0</li>
</ul>

        <div class="section-index">
    
    
    
    
        <ul>
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
        </ul>
    
</div>

	
	
	<div class="text-muted mt-5 pt-3 border-top">Last modified November 25, 2019: <a  href="https://github.com/VS-work/flourish-user-docs/commit/ad803211743fc497ce192c32333eaa492812ea9b">Final content update &amp; cleanup (ad80321)</a>
</div>
</div>

          </main>
        </div>
      </div>
      
<footer class="bg-dark py-5 row d-print-none">
  <div class="container-fluid mx-sm-5">
    <div class="row">
      <div class="col-6 col-sm-4 text-xs-center order-sm-2">
        
        
        
<ul class="list-inline mb-0">
  
  <li class="list-inline-item mx-2 h3" data-toggle="tooltip" data-placement="top" title="User mailing list" aria-label="User mailing list">
    <a class="text-white" target="_blank" href="https://example.org/mail">
      <i class="fa fa-envelope"></i>
    </a>
  </li>
  
  <li class="list-inline-item mx-2 h3" data-toggle="tooltip" data-placement="top" title="Twitter" aria-label="Twitter">
    <a class="text-white" target="_blank" href="https://example.org/twitter">
      <i class="fab fa-twitter"></i>
    </a>
  </li>
  
  <li class="list-inline-item mx-2 h3" data-toggle="tooltip" data-placement="top" title="Stack Overflow" aria-label="Stack Overflow">
    <a class="text-white" target="_blank" href="https://example.org/stack">
      <i class="fab fa-stack-overflow"></i>
    </a>
  </li>
  
</ul>

        
        
      </div>
      <div class="col-6 col-sm-4 text-right text-xs-center order-sm-3">
        
        
        
<ul class="list-inline mb-0">
  
  <li class="list-inline-item mx-2 h3" data-toggle="tooltip" data-placement="top" title="GitHub" aria-label="GitHub">
    <a class="text-white" target="_blank" href="https://github.com/VS-work/flourish-user-docs">
      <i class="fab fa-github"></i>
    </a>
  </li>
  
  <li class="list-inline-item mx-2 h3" data-toggle="tooltip" data-placement="top" title="Slack" aria-label="Slack">
    <a class="text-white" target="_blank" href="https://example.org/slack">
      <i class="fab fa-slack"></i>
    </a>
  </li>
  
  <li class="list-inline-item mx-2 h3" data-toggle="tooltip" data-placement="top" title="Developer mailing list" aria-label="Developer mailing list">
    <a class="text-white" target="_blank" href="https://example.org/mail">
      <i class="fa fa-envelope"></i>
    </a>
  </li>
  
</ul>

        
        
      </div>
      <div class="col-12 col-sm-4 text-center py-2 order-sm-2">
        <small class="text-white">&copy; 2019 The Docsy Authors All Rights Reserved</small>
        <small class="ml-1"><a href="https://policies.google.com/privacy" target="_blank">Privacy Policy</a></small>
	
		<p class="mt-2"><a href="/flourish-user-docs/about/">About Flourish</a></p>
	
      </div>
    </div>
  </div>
</footer>


    </div>
    
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>






<script src="/flourish-user-docs/js/main.min.a0caaf8ddcf8cdae392ab5d612c0664cd6fda5dd328ad686856332cfd9b70e29.js" integrity="sha256-oMqvjdz4za45KrXWEsBmTNb9pd0yitaGhWMyz9m3Dik=" crossorigin="anonymous"></script>



  </body>
</html>